@model CEG_RazorWebApp.Models.HomeworkQuestion.Get.AdminQuestionInfoPVM
@{
    var questionInfo = Model.QuestionInfo;
    var updateQuestion = Model.UpdateQuestionInfo;
}
<div class="card-header">
    <h5 class="truncate">Question @questionInfo.Question Details</h5>
    @{
        if (Model.HomeworkStatus.Equals("Draft") || Model.HomeworkStatus.Equals("Postponed"))
        {
            <div class="edit-info">
                <i class='bx bxs-edit' data-toggle="modal" data-target="#editquestion_@questionInfo.HomeworkQuestionId"></i>
            </div>
        }
    }
</div>
<div class="card-body">
    <div class="row mb-sm-2">
        <div class="col-md-5 text-md-right">
            <label class="col-form-label">Question ID:</label>
        </div>
        <div class="col-md-7">
            <span>
                @questionInfo.HomeworkQuestionId
            </span>
        </div>
    </div>
    <div class="row mb-sm-2">
        <div class="col-sm-5 text-sm-right">
            <label for="meeting-name">Question:</label>
        </div>
        <div class="col-sm-7 text-sm-left">
            <span>@questionInfo.Question</span>
        </div>
    </div>
    <div class="row mb-sm-2">
        <div class="col-sm-5 text-sm-right">
            <label for="meeting-name">Answers Amount:</label>
        </div>
        <div class="col-sm-7 text-sm-left">
            <span>@questionInfo.AnswersAmount Answer(s)</span>
        </div>
    </div>
    <div class="card-body d-flex justify-content-center">
        <a class="btn btn-success" href="/Admin/Course/@Model.CourseId/Session/@Model.SessionId/Homework/@Model.HomeworkId/Question/@questionInfo.HomeworkQuestionId/Info">More Info</a>
    </div>
</div>
<hr class="container my-0">

@if (Model.HomeworkStatus.Equals("Draft") || Model.HomeworkStatus.Equals("Postponed"))
{
    <div id="editquestion_@questionInfo.HomeworkQuestionId" class="modal fade" role="dialog">
        <div class="modal-dialog modal-dialog-centered modal-lg" role="content">
            <div class="modal-content modal-addRoom">
                <div class="modal-header">
                    <h4 class="modal-title truncate">Update Question @questionInfo.Question</h4>
                </div>
                <form asp-page-handler="QuestionUpdate" method="post" asp-route-homeworkId="@Model.HomeworkId" asp-route-questionId="@questionInfo.HomeworkQuestionId" class="form-group">
                    <div class="modal-body">
                        <div class="col-12">
                            <div class="form-group row">
                                <label asp-for="@updateQuestion.Question" class="col-sm-4 col-form-label"></label>
                                <div class="col-sm-8">
                                    <textarea asp-for="@updateQuestion.Question" value="@updateQuestion.Question" required class="form-control col-md-7"></textarea>
                                    <span asp-validation-for="@updateQuestion.Question" id="error_message"
                                          class="helper-text text-danger d-block offset-md-5 col-md-5 col-sm-8 mt-2"></span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer justify-content-center">
                        <button class="btn btn-success" type="submit" value="Update">Save</button>
                        <button class="btn btn-danger" type="button" data-dismiss="modal">Cancel</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
}
