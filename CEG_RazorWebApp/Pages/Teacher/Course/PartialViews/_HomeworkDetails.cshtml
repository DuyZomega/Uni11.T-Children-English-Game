@model CEG_RazorWebApp.Models.Homework.Get.AdminHomeworkInfoPVM
@{
    var homeworkInfo = Model.HomeworkInfo;
    var updateHomework = Model.UpdateHomeworkInfo;
}
<div class="card-header">
    <h5>Homework @homeworkInfo.Title Details</h5>
    @{
        if (homeworkInfo.Status.Equals("Draft") || homeworkInfo.Status.Equals("Postponed"))
        {
            <div class="edit-info">
                <i class='bx bxs-edit' data-toggle="modal" data-target="#edithomework_@homeworkInfo.HomeworkId"></i>
            </div>
        }
    }
</div>
<div class="card-body">
    <div class="row mb-sm-2">
        <div class="col-md-5 text-md-right">
            <label class="col-form-label">Homework ID:</label>
        </div>
        <div class="col-md-7">
            <span>
                @homeworkInfo.HomeworkId
            </span>
        </div>
    </div>
    <div class="row mb-sm-2">
        <div class="col-md-5 text-md-right">
            <label class="col-form-label">Status:</label>
        </div>
        <div class="col-sm-7">
            @{
                switch (homeworkInfo.Status)
                {
                    case "Available":
                        {
                            <span class="outcome" style="float: left;">@homeworkInfo.Status</span>
                            break;
                        }
                    case "Draft":
                    case "Postponed":
                        {
                            <span class="approval" style="float: left;">@homeworkInfo.Status</span>
                            break;
                        }
                    case "EndofService":
                    case "Cancelled":
                        {
                            <span class="destroy" style="float: left;">@homeworkInfo.Status</span>
                            break;
                        }
                }
            }
        </div>
    </div>
    <div class="row mb-sm-2">
        <div class="col-sm-5 text-sm-right">
            <label for="meeting-name">Title:</label>
        </div>
        <div class="col-sm-7 text-sm-left">
            <span>@homeworkInfo.Title</span>
        </div>
    </div>
    <div class="row mb-sm-2">
        <div class="col-sm-5 text-sm-right">
            <label for="meeting-name">Description:</label>
        </div>
        <div class="col-sm-7 text-sm-left">
            <span>@homeworkInfo.Description</span>
        </div>
    </div>
    <div class="row mb-sm-2">
        <div class="col-sm-5 text-sm-right">
            <label for="meeting-name">Hours:</label>
        </div>
        <div class="col-sm-7 text-sm-left">
            <span>@homeworkInfo.Hours</span>
        </div>
    </div>
    <div class="row mb-sm-2">
        <div class="col-sm-5 text-sm-right">
            <label for="meeting-name">Type:</label>
        </div>
        <div class="col-sm-7 text-sm-left">
            <span>@homeworkInfo.Type</span>
        </div>
    </div>
    <div class="row mb-sm-2">
        <div class="col-sm-5 text-sm-right">
            <label for="meeting-name">Questions Amount:</label>
        </div>
        <div class="col-sm-7 text-sm-left">
            <span>@homeworkInfo.QuestionsAmount Question(s)</span>
        </div>
    </div>
    <div class="card-body d-flex justify-content-center">
        <a class="btn btn-success" href="/Admin/Course/@Model.CourseId/Session/@Model.SessionId/Homework/@homeworkInfo.HomeworkId/Info">More Info</a>
    </div>
</div>
<hr class="container my-0">

@if (homeworkInfo.Status.Equals("Draft") || homeworkInfo.Status.Equals("Postponed"))
{
    <div id="edithomework_@homeworkInfo.HomeworkId" class="modal fade" role="dialog">
        <div class="modal-dialog modal-dialog-centered modal-lg" role="content">
            <div class="modal-content modal-addRoom">
                <div class="modal-header">
                    <h4 class="modal-title truncate">Update Homework @homeworkInfo.Title</h4>
                </div>
                <form asp-page-handler="HomeworkUpdate" method="post" asp-route-homeworkId="@homeworkInfo.HomeworkId" asp-route-sessionId="@Model.SessionId" class="form-group">
                    <div class="modal-body">
                        <div class="col-12">
                            <div class="form-group row">
                                <label asp-for="@updateHomework.Title" class="col-sm-4 col-form-label"></label>
                                <div class="col-sm-8">
                                    <input asp-for="@updateHomework.Title" type="text"
                                           value="@updateHomework.Title" class="form-control" required>
                                    <span asp-validation-for="@updateHomework.Title" id="error_message"
                                          class="helper-text text-danger d-block offset-md-5 col-md-5 col-sm-8 mt-2"></span>
                                </div>
                            </div>
                            <div class="form-group row">
                                <label asp-for="@updateHomework.Description" class="col-sm-4 col-form-label"></label>
                                <div class="col-sm-8">
                                    <textarea asp-for="@updateHomework.Description" value="@updateHomework.Description" required class="form-control col-md-7"></textarea>
                                    <span asp-validation-for="@updateHomework.Description" id="error_message"
                                          class="helper-text text-danger d-block offset-md-5 col-md-5 col-sm-8 mt-2"></span>
                                </div>
                            </div>
                            <div class="form-group row">
                                <label asp-for="@updateHomework.Hours" class="col-sm-4 col-form-label"></label>
                                <div class="col-sm-8">
                                    <input asp-for="@updateHomework.Hours" value="@updateHomework.Hours" type="number" min="1" class="form-control" required>
                                    <span asp-validation-for="@updateHomework.Hours" id="error_message"
                                          class="helper-text text-danger d-block offset-md-5 col-md-5 col-sm-8 mt-2"></span>
                                </div>
                            </div>
                            <div class="form-group row">
                                <label asp-for="@updateHomework.Type" class="col-sm-4 col-form-label"></label>
                                <div class="col-sm-8">
                                    <select class="form-control custom-select" asp-for="@updateHomework.Type" asp-items="@updateHomework.DefaultHomeworkTypeSelectList"></select>
                                    <span asp-validation-for="@updateHomework.Type" id="error_message"
                                          class="helper-text text-danger d-block offset-md-5 col-md-5 col-sm-8 mt-2"></span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer justify-content-center">
                        <button class="btn btn-success" type="submit" value="Update">Save</button>
                        <button class="btn btn-danger" type="button" data-dismiss="modal">Cancel</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
}
